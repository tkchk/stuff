0. Install openvpn
apt install openvpn

1. If you use lxc container, make sure that it's privileged and paste following in /etc/pve/lxc/<id>.conf (proxmox sample)
lxc.cgroup.devices.allow = c 10:200 rwm
lxc.hook.autodev = sh -c "modprobe tun; cd ${LXC_ROOTFS_MOUNT}/dev; mkdir net; mknod net/tun c 10 200; chmod 0666 net/tun"

2. Copy config under /etc/openvpn/<n>.conf and activate the service
systemctl start openvpn@<n>
Wait untill you see "Initialization Sequence Completed" as the last message in the service log

4. Enable ipv4 forwarding. Paste following in file somewhere under /etc/sysctl.d/<n>.conf
net.ipv4.ip_forward=1

5. Forward all traffic to the tunnel. Install iptables-persistent and paste declaritive commands in /etc/iptables/rules.v4
# Generated by iptables-save v1.8.4 on Sun Apr 11 15:25:31 2021
*nat
:PREROUTING ACCEPT [48:15908]
:INPUT ACCEPT [2:292]
:OUTPUT ACCEPT [5:489]
:POSTROUTING ACCEPT [2:290]
-A POSTROUTING -o tun0 -j MASQUERADE
COMMIT
# Completed on Sun Apr 11 15:25:31 2021
# Generated by iptables-save v1.8.4 on Sun Apr 11 15:25:31 2021
*filter
:INPUT ACCEPT [0:0]
:FORWARD ACCEPT [0:0]
:OUTPUT ACCEPT [1826:305610]
-A INPUT -i tun0 -j ACCEPT
-A INPUT -i eth0 -j ACCEPT
-A FORWARD -i eth0 -o tun0 -j ACCEPT
-A FORWARD -m conntrack --ctstate RELATED,ESTABLISHED -j ACCEPT
COMMIT
# Completed on Sun Apr 11 15:25:31 2021

5.1 Just for reference, these are imperative commands. You can add them manually & save your whole iptables config later
iptables -t nat -A POSTROUTING -o tun0 -j MASQUERADE
iptables -A INPUT -i tun0 -j ACCEPT
iptables -A INPUT -i eth0 -j ACCEPT
iptables -A FORWARD -i eth0 -o tun0 -j ACCEPT
iptables -A FORWARD -m conntrack --ctstate RELATED,ESTABLISHED -j ACCEPT
